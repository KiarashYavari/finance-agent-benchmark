version: "3.9"

services:
  finance-agent:
    build: .
    image: finance-agent-benchmark:latest

    # Mount dataset (host â†’ container)
    volumes:
      - ./data:/app/data:ro
      - ./tools/models:/app/tools/models:ro

    environment:
      # Required by AgentBeats / launcher
      HOST: 127.0.0.1
      AGENT_PORT: 9000
      DEBUG: "true"
      NUM_TASKS: 1
      YOUR_NAME: "AI NOOBS"
      EMAIL_ADDRESS: "ai.noobs.2025@gmail.com"

      # Explicit dataset path (Docker-safe)
      DATASET: /app/data/public.csv

      # Secrets MUST be injected at runtime (example)
      LLM_API_KEY: ${LLM_API_KEY}

    ports:
      - "9000:9000"
      - "9001:9001"
      - "8000:8000"

    restart: unless-stopped

